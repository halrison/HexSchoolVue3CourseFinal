import{_ as v,s as w,u as b,k as y,l as V,r as i,d as C,e as k,f as o,g as x,h as s,w as E,F as L,A as S,b as F,n as p,p as I,j as M}from"./index-76d5b82d.js";const t=n=>(I("data-v-d7d97ace"),n=n(),M(),n),P={class:"container position-relative"},B=t(()=>s("div",{class:"position-absolute h-100"},null,-1)),j={class:"col-md-6"},q=t(()=>s("h1",{class:"h3 my-3 font-weight-normal"},"請先登入",-1)),A={class:"mb-2"},N=t(()=>s("label",{for:"inputEmail",class:"sr-only"},"Email address",-1)),R={class:"mb-2"},T=t(()=>s("label",{for:"inputPassword",class:"sr-only"},"Password",-1)),U=t(()=>s("div",{class:"text-end my-4"},[s("button",{class:"btn btn-lg btn-primary btn-block",type:"submit"},"登入")],-1)),z={__name:"LoginView",setup(n){const{isLoading:d}=w(b()),a=y({username:"",password:""}),_=V();d.value=!0,setTimeout(function(){d.value=!1},1e3);function h(){S.post("https://vue3-course-api.hexschool.io/admin/signin",{username:a.username,password:a.password}).then(function(e){e.data.success&&(sessionStorage.setItem("token",e.data.token),_.push({path:"/admin/product"}))}).catch(function(e){F().pushMessage("danger",e==null?void 0:e.message)})}return(e,l)=>{const f=i("LoadingC"),r=i("FieldC"),u=i("ErrorMessage"),g=i("FormC");return C(),k(L,null,[o(f,{"is-full-page":!0,active:x(d)},null,8,["active"]),s("div",P,[B,o(g,{class:"row justify-content-center",onSubmit:h},{default:E(({errors:m})=>[s("div",j,[q,s("div",A,[N,o(r,{type:"email",id:"inputEmail",class:p(["form-control",{"is-invalid":m.username}]),placeholder:"Email address",rules:"required",name:"username",modelValue:a.username,"onUpdate:modelValue":l[0]||(l[0]=c=>a.username=c)},null,8,["modelValue","class"]),o(u,{name:"username",class:"invalid-feedback"})]),s("div",R,[T,o(r,{type:"password",id:"inputPassword",class:p(["form-control",{"is-invalid":m.password}]),placeholder:"Password",name:"password",rules:"required",modelValue:a.password,"onUpdate:modelValue":l[1]||(l[1]=c=>a.password=c)},null,8,["modelValue","class"]),o(u,{name:"password",class:"invalid-feedback"})]),U])]),_:1})])],64)}}},D=v(z,[["__scopeId","data-v-d7d97ace"]]);export{D as default};
