import{s as m,u as A,m as L,c as v,o as S,r as x,d as n,e as l,f as c,g as i,h as e,F as u,i as f,q as g,v as C,x as B,t as M}from"./index-76d5b82d.js";import{u as V}from"./articles-c7527420.js";import{_ as D}from"./ArticleCard-8efc5ba1.js";import{_ as F}from"./PaginationBar-07a76f54.js";import"./coupons-3eb6210c.js";const N={class:"container"},O={class:"row"},$={class:"col-3 bg-light float-start"},j={class:"position-sticky pt-3"},q=e("p",null,"標籤篩選",-1),E=["value"],P={class:"form-check-label"},R={class:"col-9 mt-1"},T={class:"card-group row"},K={__name:"ArticleList",setup(U){const d=V(),{getArticles:_}=d,{articles:r,pagination:p}=m(d),{isLoading:h}=m(A()),a=L([]),k=v(()=>Array.from(new Set(r.value.flatMap(s=>s.tag))).filter(s=>!!s)),w=v(()=>a.value.length?r.value.filter(s=>{if(Object.hasOwn(s,"tag"))return s.tag.some(o=>a.value.includes(o))}):r.value);return S(async function(){await _(1,"customer"),a.value=[]}),(s,o)=>{const y=x("LoadingC");return n(),l(u,null,[c(y,{"is-full-page":!0,active:i(h)},null,8,["active"]),e("div",N,[e("div",O,[e("nav",$,[e("div",j,[q,(n(!0),l(u,null,f(k.value,t=>(n(),l("p",{class:"form-check",key:t},[g(e("input",{class:"form-check-input",type:"checkbox",value:t,"onUpdate:modelValue":o[0]||(o[0]=b=>a.value=b)},null,8,E),[[B,a.value]]),e("label",P,M(t),1)]))),128))])]),e("div",R,[e("div",T,[(n(!0),l(u,null,f(w.value||i(r),t=>(n(),l("div",{class:"col-6 row",key:t.id},[c(D,{article:t},null,8,["article"])]))),128))])])]),g(c(F,{pagination:i(p),onPaginate:o[1]||(o[1]=t=>i(_)(t,"customer"))},null,8,["pagination"]),[[C,i(p).total_pages>1]])])],64)}}};export{K as default};
